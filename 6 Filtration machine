# Filtrer tous 6 Filtration machine
define Filter -348054045
define PipeSensor -767597887
define TrbPump -1235546985 A trouver
define Tank -123456789 A trouver
Start:
sb filter Lock 0
#----- Gestion de la pression -----
lb r15 PipeSensor Pressure
bltal r15 10000 StartAspir
bgtal r15 25000 StopPump #25Mpa
bgtal r15 55000 StartExpir
bltal r15 55000 StopPump
#----- Verification pression dans les r√©servoir -----
lbn r0 Tank HASH("TankCO2") RatioLiquidCarbonDioxideInput Sum
lbn r1 Tank HASH("TankX") RatioLiquidPollutant Sum
lbn r2 Tank HASH("TankH2") RatioLiquidVolatiles Sum
lbn r3 Tank HASH("TankN") RatioLiquidNitrogen Sum
lbn r4 Tank HASH("TankO2") RatioLiquidOxygen Sum
lbn r5 Tank HASH("TankNO2") RatioLiquidNitrousOxyde Sum
#----- Verouillage des reservoires -----
bgtzal r0 LockFilterCO2
bgtzal r1 LockFilterX
bgtzal r2 LockFilterH2
bgtzal r3 LockFilterN
bgtzal r4 LockFilterO2
bgtzal r5 LockFilterNO2
#----- Optimisation de production de Gaz filtrer -----
lbn r0 Filter HASH("FilterCO2") RatioCarbonDioxideInput Sum
lbn r1 Filter HASH("FilterX") RatioPollutant Sum
lbn r2 Filter HASH("FilterH2") RatioVolatiles Sum
lbn r3 Filter HASH("FilterN") RatioNitrogen Sum
lbn r4 Filter HASH("FilterO2") RatioOxygen Sum
lbn r5 Filter HASH("FilterNO2") RatioNitrousOxyde Sum
bgtzal r0 StartFilterCO2
bgtzal r1 StartFilterX
bgtzal r2 StartFilterH2
bgtzal r3 StartFilterN
bgtzal r4 StartFilterO2
bgtzal r5 StartFilterNO2
beqzal r0 StopFilterCO2
beqzal r1 StopFilterX
beqzal r2 StopFilterH2
beqzal r3 StopFilterN
beqzal r4 StopFilterO2
beqzal r5 StopFilterNO2
j Start
#----- Fonction Filter ON -----
StartFilterN:
sbn Filter HASH("FilterN") Mode 1
j ra
StartFilterCO2:
sbn Filter HASH("FilterCO2") On 1
sbn Filter HASH("FilterCO2") Mode 1
j ra
StartFilterX:
sbn Filter HASH("FilterX") On 1
j ra
StartFilterH2:
sbn Filter HASH("FilterH2") On 1
j ra
StartFilterO2:
sbn Filter HASH("FilterO2") On 1
j ra
StartFilterNO2:
sbn Filter HASH("FilterNO2") On 1
j ra
#----- Fonction Filter OFF -----
StopFilterN:
sbn Filter HASH("FilterN") Mode 0
j ra
StopFilterCO2:
sbn Filter HASH("FilterCO2") On 0
j ra
StopFilterX:
sbn Filter HASH("FilterX") On 0
j ra
StopFilterH2:
sbn Filter HASH("FilterH2") On 0
j ra
StopFilterO2:
sbn Filter HASH("FilterO2") On 0
j ra
StopFilterNO2:
sbn Filter HASH("FilterNO2") On 0
j ra
#----- Fonction Filter Lock -----
LockFilterN:
sbn Filter HASH("FilterN") Mode 0
sbn Filter HASH("FilterN") Lock 1
j ra
LockFilterCO2:
sbn Filter HASH("FilterCO2") On 0
sbn Filter HASH("FilterCO2") Lock 1
j ra
LockFilterX:
sbn Filter HASH("FilterX") On 0
sbn Filter HASH("FilterX") Lock 1
j ra
LockFilterH2:
sbn Filter HASH("FilterH2") On 0
sbn Filter HASH("FilterH2") Lock 1
j ra
LockFilterO2:
sbn Filter HASH("FilterO2") On 0
sbn Filter HASH("FilterO2") Lock 1
j ra
LockFilterNO2:
sbn Filter HASH("FilterNO2") On 0
sbn Filter HASH("FilterNO2") Lock 1
j ra
#----- Fonction Ventilation -----
StartAspir:
sb TrbPump Mode 1
sb TrbPump Setting 50
sb TrbPump On 1
j ra
StartExpir:
sb TrbPump Mode 0
sb TrbPump Setting 50
sb TrbPump On 1
j ra
StopPump:
sbn TrbPump On 0
j ra
